"use strict";(self.webpackChunkCodeInside=self.webpackChunkCodeInside||[]).push([[907],{6907:(_,c,l)=>{l.r(c),l.d(c,{ImageModule:()=>f});var m=l(9808),u=l(459),r=l(2382),e=l(1223),g=l(3353);function p(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){return e.CHM(o),e.oxw().refreshOldCat()}),e._uU(1," Refresh* "),e.qZA()}}const d=[{path:"",component:(()=>{class t{constructor(o){this.pictureService=o,this.url=this.pictureService.serviceUrl,this.type="",this.filter="",this.localArr=[],this.iteratorLocalStorage=1,this.refreshBoolean=!1,this.form=new r.cw({selectType:new r.NI("",[r.kI.required]),selectFilter:new r.NI("",[r.kI.required])}),this.selectedOptionType=localStorage.getItem("type")||"sm",this.selectedOptionFilter=localStorage.getItem("filter")||"without"}ngOnInit(){this.getRandomCat()}optionType(o){return this.pictureService.getOptionType(o)}optionFilter(o){return this.pictureService.getOptionFilter(o)}getRandomCat(){this.iteratorLocalStorage=1,this.localArr.push(this.url),localStorage.setItem("oldCat",JSON.stringify(this.localArr)),this.checkOldCat(),this.url=this.pictureService.serviceUrl,this.pictureService.getAllCats().subscribe(o=>{const n=Object.values(o);let i=this.pictureService.getRandomNum(1114);for(;n[i].tags.includes("gif");)i=this.pictureService.getRandomNum(1114);this.url+="/cat/"+n[i]._id+"?type="+localStorage.getItem("type")+"&filter="+localStorage.getItem("filter")})}checkOldCat(){return this.json=localStorage.getItem("oldCat"),this.parsedArr=JSON.parse(this.json),this.refreshBoolean=this.parsedArr.length>1}refreshOldCat(){this.json=localStorage.getItem("oldCat"),this.parsedArr=JSON.parse(this.json),this.refreshBoolean=this.iteratorLocalStorage<=this.parsedArr.length-2,this.url=this.parsedArr[this.parsedArr.length-this.iteratorLocalStorage],this.iteratorLocalStorage++}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(g.A))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-image"]],decls:39,vars:7,consts:[[1,"box"],[1,"box__title"],["alt","img",1,"box__img",3,"src"],["action","",1,"box__form",3,"formGroup"],["for","type",1,"box__form-label","box__form-elem"],["formControlName","selectType","id","type","required","",1,"box__form-select","box__form-elem",3,"ngModel","ngModelChange"],["value","sm"],["value","md"],["value","sq"],["value","or"],["for","filter",1,"box__form-label","box__form-elem"],["formControlName","selectFilter","id","filter","required","",1,"box__form-select","box__form-elem",3,"ngModel","ngModelChange"],["value","without"],["value","blur"],["value","mono"],["value","sepia"],["value","negative"],["value","paint"],["value","pixel"],["class","box__form-btn box__form-elem","type","button",3,"click",4,"ngIf"],["type","button",1,"box__form-btn","box__form-elem",3,"disabled","click"],[1,"box__form-elem",3,"routerLink"],[1,"picture"],["type","button",1,"box__form-btn","box__form-elem",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"section",0)(1,"h2",1),e._uU(2,"Random picture"),e.qZA(),e._UZ(3,"img",2),e.TgZ(4,"form",3)(5,"label",4),e._uU(6,"Select type"),e.qZA(),e.TgZ(7,"select",5),e.NdJ("ngModelChange",function(s){return n.optionType(s)}),e.TgZ(8,"option",6),e._uU(9,"Small"),e.qZA(),e.TgZ(10,"option",7),e._uU(11,"Medium"),e.qZA(),e.TgZ(12,"option",8),e._uU(13,"Square"),e.qZA(),e.TgZ(14,"option",9),e._uU(15,"Original"),e.qZA()(),e.TgZ(16,"label",10),e._uU(17,"Select filter"),e.qZA(),e.TgZ(18,"select",11),e.NdJ("ngModelChange",function(s){return n.selectedOptionFilter=s})("ngModelChange",function(s){return n.optionFilter(s)}),e.TgZ(19,"option",12),e._uU(20,"Without"),e.qZA(),e.TgZ(21,"option",13),e._uU(22,"Blur"),e.qZA(),e.TgZ(23,"option",14),e._uU(24,"Mono"),e.qZA(),e.TgZ(25,"option",15),e._uU(26,"Sepia"),e.qZA(),e.TgZ(27,"option",16),e._uU(28,"Negative"),e.qZA(),e.TgZ(29,"option",17),e._uU(30,"Paint"),e.qZA(),e.TgZ(31,"option",18),e._uU(32,"Pixel"),e.qZA()(),e.YNc(33,p,2,0,"button",19),e.TgZ(34,"button",20),e.NdJ("click",function(){return n.getRandomCat()}),e._uU(35," Generate "),e.qZA(),e.TgZ(36,"a",21),e._uU(37,"Back :("),e.qZA()()(),e._UZ(38,"div",22)),2&o&&(e.xp6(3),e.Q6J("src",n.url,e.LSH),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("ngModel",n.selectedOptionType),e.xp6(11),e.Q6J("ngModel",n.selectedOptionFilter),e.xp6(15),e.Q6J("ngIf",n.refreshBoolean),e.xp6(1),e.Q6J("disabled",n.form.invalid),e.xp6(2),e.Q6J("routerLink","/"))},directives:[r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,r.Q7,r.YN,r.Kr,m.O5,u.yS],styles:[".picture[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background:url(https://cataas.com/cat/XZgbesfgGWEydLXn) center/cover no-repeat;width:100%;height:100%;opacity:40%;z-index:-1}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(d)],u.Bz]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,h,r.u5,r.UX]]}),t})()}}]);